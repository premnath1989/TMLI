function calliOSFunction(e,a,t,r){var n="js-frame:";if(r.functionname=e,a)if("function"==typeof a){var i=createCallbackFunction(e+"_successCallback",a);r.success=i}else r.success=a;if(t)if("function"==typeof t){var i=createCallbackFunction(e+"_errorCallback",t);r.error=i}else r.error=t;n+=JSON.stringify(r);var s=createIFrame(n);s.parentNode.removeChild(s)}function createCallbackFunction(e,a){if(a&&null!=a.name&&a.name.length>0)return a.name;if("function"!=typeof window[e+0])return window[e+0]=a,__functionIndexMap[e]=0,e+0;for(var t=__functionIndexMap[e],r=a.toString(),n=0;t>=n;n++){var i=e+n;if(window[i].toString()==r)return i}var s=++__functionIndexMap[e];return window[e+s]=a,e+s}function createIFrame(e){var a=document.documentElement,t=document.createElement("IFRAME");return t.setAttribute("src",e),a.appendChild(t),t}function onSuccess(e){if(e){var a=JSON.parse(e),t=Object.keys(a.result)[0];"readFromDB"==t&&getFromDatabase(a.result.readFromDB,stringPageTypeCurrent)}}function onError(e){if(e){JSON.parse(e)}}function readfromDB(){var e={};e.data={},e.data.SPAJAnswers={},e.data.SPAJAnswers.columns="elementID,Value,SPAJID,CustomerID",e.data.SPAJAnswers.where="",calliOSFunction("readfromDB:",onSuccess,onError,e)}function savetoDB(){var e,a=0,t=!0;if(0==t||stringPageSectionCurrent!=stringPageSectionBeneficiariesList&&$("input:text[required]").each(function(){e=$(this).val();var a=$("label[for='"+this.id+"']");return void 0==e||null==e||""==e?(ReplaceHTMLNameOnValidate("",a.text()+" harap diisi."),t=!1,!1):void 0}),0==t);else{var r=!1;stringPageValidationCurrent==stringPageValidationIncome&&($("input:text[data-customvalidation='"+stringPageValidationIncome+"']").each(function(){return $(this).val()>0?(r=!0,!1):void 0}),0==r&&(t=!1,ReplaceHTMLNameOnValidate("","Harap mengisi penghasilan kotor minimum satu jenis")))}if(0==t||stringPageSectionCurrent!=stringPageSectionBeneficiariesList&&$("input:radio[required]").each(function(){e=getRadioButtonGeneral($(this).attr("name"));var r=$("label[for='"+this.name+"']");if(a!=$(this).attr("name")){if(void 0==e)return ReplaceHTMLNameOnValidate("",r.text()+" harap dipilih."),t=!1,!1;a=$(this).attr("name")}}),stringPageSectionCurrent==stringPageSectionBeneficiariesList){if(0==t);else if(100!=intSharePercentage)return ReplaceHTMLNameOnValidate("","Jumlah share percentage harus 100 !."),t=!1,!1;if(0==t);else{for(var n,i=stringPrefixText+stringBeneficiariesListInfix+"FullName",s=!1,o=0;o<arrayBeneficiariesList.length;o++)n=arrayBeneficiariesList[o].elementID.substring(0,i.length),n==i&&(s=!0);if(0==s)return ReplaceHTMLNameOnValidate("","Masukkan daftar penerima manfaat paling tidak satu !."),t=!1,!1}}if(0==t);else{var u;if(stringPageSectionCurrent==stringPageSectionHealthQuestionnaire){var c=stringPageInfixTypeCurrent,l=stringPrefixText+c+"Height",g=(stringKres+l,getTextForm(l)),f=stringPrefixText+c+"Weight",d=(stringKres+l,getTextForm(f)),m=stringPrefixText+c+"BabyHeight",p=(stringKres+l,getTextForm(m)),h=stringPrefixText+c+"BabyWeight",P=(stringKres+l,getTextForm(h)),v=stringPrefixText+c+"PregnantWeek",S=(stringKres+v,getTextForm(v)),y=stringPrefixRadioButton+c+"Pregnant",B=(stringKres+y,getRadioButtonGeneral(y)),F=stringPrefixRadioButton+c+"Pregnancy",C=(stringKres+F,getRadioButtonGeneral(F)),D=stringPrefixRadioButton+c+"WeightChange",H=(stringKres+D,getRadioButtonGeneral(D));setHardCode(arrayHealthQuestionnaire,l,g),setHardCode(arrayHealthQuestionnaire,f,d),setHardCode(arrayHealthQuestionnaire,m,p),setHardCode(arrayHealthQuestionnaire,h,P),setHardCode(arrayHealthQuestionnaire,v,S),setHardCode(arrayHealthQuestionnaire,y,B),setHardCode(arrayHealthQuestionnaire,F,C),setHardCode(arrayHealthQuestionnaire,D,H),u=arrayHealthQuestionnaire}else u=stringPageSectionCurrent==stringPageSectionBeneficiariesList?arrayBeneficiariesList:setToDatabase(stringPageTypeCurrent);var x=JSONGenerator(u);calliOSFunction("savetoDB:",onSuccess,onError,x),arrayHealthQuestionnaire=[],arrayBeneficiariesList=[]}}function PrintData(){savetoDB()}function AutoPopulate(e){var a=JSON.parse(e),t=Object.keys(a.result)[0];"autopopulateFromDB"==t&&getFromDatabase(a.result.autopopulateFromDB,stringPageTypeCurrent)}function ReadData(){readfromDB()}function ReplaceHTMLNameOnValidate(e,a){var t={};t.data={},t.data.title=e,t.data.body=a,calliOSFunction("showAlert:",onSuccess,onError,t)}__functionIndexMap={};
